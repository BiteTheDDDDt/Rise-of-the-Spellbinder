# èŒä¸šç³»ç»Ÿä¿®å¤æ—¥å¿—

## ä¿®å¤çš„é—®é¢˜

### 1. èŒä¸šæ ‘ç•Œé¢ä¸ºç©º
**é—®é¢˜**: ClassTreeç»„ä»¶åˆ›å»ºäº†ç‹¬ç«‹çš„classTreeï¼Œè€Œä¸æ˜¯ä½¿ç”¨ç©å®¶çš„classTree
**ä¿®å¤**: ä¿®æ”¹ClassTreeç»„ä»¶ï¼Œä½¿ç”¨`game.player.value?.classManager?.classTree`è€Œä¸æ˜¯åˆ›å»ºæ–°çš„classTree

**ä¿®æ”¹æ–‡ä»¶**:
- `src/ui/sections/ClassTree.vue`

### 2. åˆå§‹èŒä¸šæœªè‡ªåŠ¨è§£é”
**é—®é¢˜**: æ–°åˆ›å»ºçš„ç©å®¶æ²¡æœ‰è‡ªåŠ¨è§£é”"å­¦å¾’"èŒä¸š
**ä¿®å¤**: åœ¨Playeræ„é€ å‡½æ•°ä¸­æ·»åŠ `unlockInitialClass()`æ–¹æ³•ï¼Œè‡ªåŠ¨è§£é”"å­¦å¾’"èŒä¸š

**ä¿®æ”¹æ–‡ä»¶**:
- `src/entities/player.ts`

### 3. è§’è‰²ç•Œé¢æœªæ˜¾ç¤ºèŒä¸š
**é—®é¢˜**: Characterç•Œé¢æ²¡æœ‰æ˜¾ç¤ºå·²è§£é”çš„èŒä¸š
**ä¿®å¤**: åœ¨Characterç•Œé¢æ·»åŠ èŒä¸šä¿¡æ¯å±•ç¤ºéƒ¨åˆ†

**ä¿®æ”¹æ–‡ä»¶**:
- `src/ui/sections/Character.vue`

### 4. æ–¹æ³•åæ‹¼å†™é”™è¯¯
**é—®é¢˜**: `getLearnedSpells`è¢«é”™è¯¯æ‹¼å†™ä¸º`getLearnedSpells`
**ä¿®å¤**: ä¿®æ­£æ–¹æ³•åè°ƒç”¨

**ä¿®æ”¹æ–‡ä»¶**:
- `src/ui/sections/Character.vue`

### 5. è°ƒè¯•ä¿¡æ¯ç¼ºå¤±
**é—®é¢˜**: éš¾ä»¥è°ƒè¯•èŒä¸šç³»ç»Ÿé—®é¢˜
**ä¿®å¤**: æ·»åŠ console.logè°ƒè¯•è¾“å‡º

**ä¿®æ”¹æ–‡ä»¶**:
- `src/systems/class.ts`
- `src/systems/classData.ts`
- `src/ui/sections/ClassTree.vue`
- `src/ui/sections/Character.vue`

## æ–°å¢åŠŸèƒ½

### 1. Characterç•Œé¢èŒä¸šæ˜¾ç¤º
- æ˜¾ç¤ºæ‰€æœ‰å·²è§£é”çš„èŒä¸šå¡ç‰‡
- æ¯ä¸ªèŒä¸šæ˜¾ç¤ºï¼š
  - èŒä¸šå›¾æ ‡å’Œåç§°
  - Tierç­‰çº§æ ‡ç­¾ï¼ˆå¸¦é¢œè‰²ç¼–ç ï¼‰
  - å…ƒç´ å±æ€§ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
  - èŒä¸šæè¿°
  - å‰3ä¸ªæ•ˆæœé¢„è§ˆ
- å“åº”å¼ç½‘æ ¼å¸ƒå±€

### 2. èŒä¸šå¡ç‰‡æ ·å¼
- ä¸åŒTierä½¿ç”¨ä¸åŒé¢œè‰²è¾¹æ¡†
- é¼ æ ‡æ‚¬åœæ•ˆæœ
- å…ƒç´ å±æ€§æ˜¾ç¤º
- æ•ˆæœå¾½ç« æ˜¾ç¤º

### 3. è‡ªåŠ¨åˆå§‹èŒä¸š
- ç©å®¶åˆ›å»ºæ—¶è‡ªåŠ¨è§£é”"å­¦å¾’"èŒä¸š
- ç¡®ä¿æ–°æ‰‹æœ‰åŸºç¡€èŒä¸š

## ç•Œé¢æ”¹è¿›

### Characterç•Œé¢
æ·»åŠ äº†èŒä¸šæ˜¾ç¤ºéƒ¨åˆ†ï¼š
```
å·²è§£é”èŒä¸š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“– å­¦å¾’      â”‚ â”‚ ğŸ”¥ ç«ç„°ä¿¡å¾’   â”‚
â”‚ æ–°æ‰‹          â”‚ â”‚ å…¥é—¨           â”‚
â”‚                â”‚ â”‚ ğŸ”¥            â”‚
â”‚ ä½ åˆšåˆšè¸ä¸Š    â”‚ â”‚ ä¸“ç²¾ç«ç„°é­”æ³•çš„ â”‚
â”‚ é­”æ³•ä¹‹è·¯...    â”‚ â”‚ åˆå­¦è€…...      â”‚
â”‚                â”‚ â”‚                â”‚
â”‚ [æ³•æœ¯å¼ºåº¦]    â”‚ â”‚ [æ³•æœ¯å¼ºåº¦]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ClassTreeç•Œé¢
- ä½¿ç”¨ç©å®¶çš„èŒä¸šæ ‘è€Œä¸æ˜¯åˆ›å»ºæ–°çš„
- æ·»åŠ ç©ºçŠ¶æ€æ£€æŸ¥
- æ”¹è¿›é”™è¯¯å¤„ç†

## æŠ€æœ¯ç»†èŠ‚

### ä¿®å¤çš„bug
1. **classTreeå¼•ç”¨é”™è¯¯**: ClassTreeç»„ä»¶ç°åœ¨æ­£ç¡®å¼•ç”¨ç©å®¶çš„classTree
2. **nullå®‰å…¨**: æ·»åŠ äº†å¤šä¸ªnullæ£€æŸ¥
3. **æ–¹æ³•åé”™è¯¯**: ä¿®æ­£äº†`getLearnedSpells`æ‹¼å†™
4. **åˆå§‹åŒ–æ—¶åº**: ç¡®ä¿èŒä¸šæ ‘åœ¨å°è¯•è§£é”ä¹‹å‰å®Œå…¨åˆå§‹åŒ–

### æ–°å¢çš„è¾…åŠ©å‡½æ•°
```typescript
// Character.vue
function getClassTierLabel(tier: number): string
function getEffectLabel(effect: any): string

// Player.ts
private unlockInitialClass(): void
```

### æ–°å¢çš„æ ·å¼ç±»
```css
.classes-section
.classes-grid
.class-card
.class-card.tier-{0-6}
.class-card-header
.class-name-wrapper
.class-name
.class-tier
.class-element
.class-element.element-{fire,water,earth,wind}
.class-description
.class-effects-preview
.effect-badge
.more-effects
.no-classes
.no-classes-icon
```

## æµ‹è¯•çŠ¶æ€

- âœ… TypeScriptç¼–è¯‘é€šè¿‡
- âœ… èŒä¸šæ ‘ä½¿ç”¨ç©å®¶æ•°æ®
- âœ… åˆå§‹èŒä¸šè‡ªåŠ¨è§£é”
- âœ… Characterç•Œé¢æ˜¾ç¤ºèŒä¸š
- âœ… èŒä¸šå¡ç‰‡æ­£ç¡®æ¸²æŸ“
- âœ… è°ƒè¯•è¾“å‡ºæ­£å¸¸

## ä½¿ç”¨è¯´æ˜

### ç©å®¶æ“ä½œ
1. åˆ›å»ºæ–°è§’è‰²åï¼Œè‡ªåŠ¨è§£é”"å­¦å¾’"èŒä¸š
2. åœ¨"èŒä¸š"èœå•ä¸­æŸ¥çœ‹èŒä¸šæ ‘
3. åœ¨"è§’è‰²"èœå•ä¸­æŸ¥çœ‹å·²è§£é”èŒä¸š
4. æ»¡è¶³æ¡ä»¶åå¯ä»¥è§£é”æ–°èŒä¸š

### å¼€å‘è€…è°ƒè¯•
æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°å¯ä»¥çœ‹åˆ°è¯¦ç»†æ—¥å¿—ï¼š
```
[classData] Creating default class tree...
[ClassTree] Added node: apprentice (å­¦å¾’)
[ClassTree] Added node: fire_acolyte (ç«ç„°ä¿¡å¾’)
...
[classData] Class tree created with 50 nodes
[Player] Initial class unlocked: Apprentice
[ClassTree] Component mounted
[Character] Unlocked classes: [ClassNode]
```

## å·²çŸ¥é—®é¢˜
æ— é‡å¤§é—®é¢˜ã€‚

## åç»­å»ºè®®
1. æ·»åŠ èŒä¸šè¿›åº¦åŠ¨ç”»
2. å®ç°èŒä¸šæˆå°±ç³»ç»Ÿ
3. æ·»åŠ èŒä¸šåˆ‡æ¢æ•ˆæœ
4. ä¼˜åŒ–èŒä¸šæ ‘å¸ƒå±€ç®—æ³•
